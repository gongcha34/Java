# 저장 서브프로그램 
## 프로시저
```
SET SERVEROUTPUT ON;
CREATE OR REPLACE PROCEDURE SP_NOPARAM 
IS
    V_EMPNO NUMBER := 7688;
    V_NAME VARCHAR2(20);
BEGIN
    V_NAME := 'scott';
    DBMS_OUTPUT.PUT_LINE(V_NAME);
END;

DECLARE
    V_WRONG NUMBER;
BEGIN
    -- DNAME과 V_WRONG은 자료형이 다르다.
    SELECT DNAME INTO V_WRONG
    FROM DEPT WHERE DEPTNO = 10;
EXCEPTION
    WHEN VALUE_ERROR THEN
        DBMS_OUTPUT.PUT_LINE('예외 처리 : 수치 또는 값 오류 발생2');
        DBMS_OUTPUT.PUT_LINE(TO_CHAR(SQLCODE) || ' ' || SQLERRM);
    WHEN OTHERS THEN
     DBMS_OUTPUT.PUT_LINE('not-predefined error');
END;
/

-- 생성한 프로시저 실행하기
EXECUTE SP_NOPARAM;
-- 익명 블록에서 프로시저 실행하기
BEGIN
    SP_NOPARAM;
END;
/
-- 프로시저 삭제하기
DROP PROCEDURE SP_NOPARAM;

-- IN 모드 파라미터
CREATE OR REPLACE PROCEDURE SP_PARAM 
(
    PARAM1 IN NUMBER,
    PARAM2 NUMBER,
    PARAM3 NUMBER := 3,
    PARAM4 NUMBER DEFAULT 4
)
IS
BEGIN
    DBMS_OUTPUT.PUT_LINE(PARAM1 || PARAM2 || PARAM3 || PARAM4);
END;

-- IN 모드 파라미터 사용
EXECUTE SP_PARAM(1, 2, 9, 8); -- 1298

EXECUTE SP_PARAM(1, 2); -- 1234

EXECUTE SP_PARAM(1); -- 에러 발생: 'SP_PARAM' 호출 시 인수의 갯수나 유형이 잘못되었습니다.

EXECUTE SP_PARAM(PARAM1 =>1, PARAM2 => 20); -- 12034


-- OUT 모드 파라미터
CREATE OR REPLACE PROCEDURE SP_PARAMOUT
(
    IN_EMPNO IN EMP.EMPNO%TYPE,
    OUT_ENAME OUT EMP.ENAME%TYPE,
    OUT_SAL OUT EMP.SAL%TYPE
)
IS
BEGIN
    SELECT ENAME, SAL INTO OUT_ENAME, OUT_SAL
    FROM EMP WHERE EMPNO = IN_EMPNO;
END SP_PARAMOUT;

-- OUT 모드 파라미터 사용
DECLARE
    V_ENAME EMP.ENAME%TYPE;
    V_SAL EMP.SAL%TYPE;
BEGIN
    SP_PARAMOUT(7698, V_ENAME, V_SAL); 
    DBMS_OUTPUT.PUT_LINE('ENAME: ' || V_ENAME || ', SAL :' || V_SAL);
END;
/


-- IN OUT 모드 파라미터
CREATE OR REPLACE PROCEDURE SP_PARAMINOUT
(
    INOUT_NO IN OUT NUMBER
)
IS
BEGIN
   INOUT_NO := INOUT_NO * 2;
END SP_PARAMINOUT;


-- IN OUT 모드 파라미터 사용
DECLARE
    NO NUMBER; -- 변수 선언
BEGIN
    NO := 5;
    SP_PARAMINOUT(NO);
    DBMS_OUTPUT.PUT_LINE('NO: ' || NO);
END;
/
```
# *Reference
+ [오라클로 배우는 데이터베이스 입문](http://www.yes24.com/Product/Goods/65849798)
